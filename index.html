<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Game of Life</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@5/themes.css"
      rel="stylesheet"
      type="text/css"
    />
  </head>
  <body>
    <h1 class="title">Game of Life</h1>
    
    <!-- Mobile Controls -->
    <div class="mobile-controls">
      <div class="mobile-game-controls">
        <button id="mobile-start">Start</button>
        <button id="mobile-stop">Stop</button>
        <button id="mobile-reset">Reset</button>
        <button id="mobile-fullscreen">Fullscreen</button>
      </div>
      
      <div class="mobile-pattern-selector">
        <label for="pattern-dropdown">Add Pattern:</label>
        <select id="pattern-dropdown">
          <option value="">Select a pattern...</option>
        </select>
        <button id="view-pattern" disabled>View Pattern</button>
      </div>
      
      <div class="mobile-rules-toggle">
        <button id="toggle-rules">Rules & Settings</button>
      </div>
    </div>

    <!-- Pattern Preview Modal for Mobile -->
    <div id="pattern-preview-modal" class="pattern-modal">
      <div class="pattern-modal-content">
        <span class="pattern-modal-close">&times;</span>
        <h3 id="pattern-modal-title">Pattern Preview</h3>
        <div id="pattern-modal-preview"></div>
        <p id="pattern-modal-description"></p>
        <div class="pattern-modal-actions">
          <button id="place-pattern" disabled>Place Pattern</button>
          <button id="cancel-pattern">Cancel</button>
        </div>
      </div>
    </div>
    
    <div class="main-layout">
      <div class="game-rules">
        <h2>Rules</h2>
        <div class="rules-customization">
          <h3>Customize Rules</h3>
          <div class="rule-input">
            <label for="survival-rules"
              >Survival (live cell stays alive with):</label
            >
            <input
              type="text"
              id="survival-rules"
              value="2,3"
              placeholder="e.g., 2,3"
            />
            <small>Comma-separated neighbor counts</small>
          </div>
          <div class="rule-input">
            <label for="birth-rules"
              >Birth (dead cell becomes alive with):</label
            >
            <input
              type="text"
              id="birth-rules"
              value="3"
              placeholder="e.g., 3"
            />
            <small>Comma-separated neighbor counts</small>
          </div>
          <button id="apply-rules">Apply Rules</button>
        </div>
        <h3>Current Rules</h3>
        <ul id="current-rules">
          <li
            >Any live cell with fewer than two live neighbours dies
            (underpopulation).</li
          >
          <li
            >Any live cell with two or three live neighbours lives on to the
            next generation.</li
          >
          <li
            >Any live cell with more than three live neighbours dies
            (overpopulation).</li
          >
          <li
            >Any dead cell with exactly three live neighbours becomes a live
            cell (reproduction).</li
          >
        </ul>
      </div>
      <div class="game-center">
        <span id="tick-counter">Tick: 0</span>
        <div class="container">
          <div id="game"></div>
          <div>
            <button id="start">Start</button>
            <button id="stop">Stop</button>
            <button id="reset">Reset</button>
            <button id="toggle-fullscreen">Fullscreen</button>
          </div>
        </div>
      </div>
      <div class="game-history">
        <h2>History</h2>
        <p>
          The Game of Life, devised by mathematician John Horton Conway in 1970,
          is a cellular automaton that simulates the evolution of simple
          organisms on a grid. Each cell can be alive or dead, and its fate is
          determined by the state of its neighbors. The game became famous for
          demonstrating how complex patterns and behaviors can emerge from
          simple rules, and it has inspired research in mathematics, computer
          science, and artificial life.
        </p>
        </div>
      </div>
      
      <p class="click-instruction">Click any pattern to add it to the game!</p>
      
      <div class="spaceship-patterns">
        <!-- Spaceships Category -->
        <div class="pattern-category-header spaceships-header">
          <h3>ðŸš€ Spaceships</h3>
          <p>Moving patterns that travel across the grid</p>
        </div>
       
          <div class="ship-display clickable" data-ship="glider">
            <h4>Glider</h4>
            <div class="ship-pattern glider-pattern"></div>
            <p>The smallest spaceship, moves diagonally every 4 generations.</p>
          </div>

          <div class="ship-display clickable" data-ship="lwss">
            <h4>Lightweight Spaceship (LWSS)</h4>
            <div class="ship-pattern lwss-pattern"></div>
            <p>Travels horizontally, period 4.</p>
          </div>

          <div class="ship-display clickable" data-ship="mwss">
            <h4>Middleweight Spaceship (MWSS)</h4>
            <div class="ship-pattern mwss-pattern"></div>
            <p>Larger horizontal traveler, period 4.</p>
          </div>

          <div class="ship-display clickable" data-ship="hwss">
            <h4>Heavyweight Spaceship (HWSS)</h4>
            <div class="ship-pattern hwss-pattern"></div>
            <p>Heavyweight horizontal traveler, period 4.</p>
          </div>

          <div class="ship-display clickable" data-ship="copperhead">
            <h4>Copperhead</h4>
            <div class="ship-pattern copperhead-pattern"></div>
            <p>Stable diagonal-moving spaceship.</p>
          </div>

          <div class="ship-display clickable" data-ship="pufferfish">
            <h4>Pufferfish</h4>
            <div class="ship-pattern pufferfish-pattern"></div>
            <p>Orthogonal spaceship that leaves a trail of debris behind.</p>
          </div>

          <div class="ship-display clickable" data-ship="Weekender">
            <h4>Weekender</h4>
            <div class="ship-pattern weekender-pattern"></div>
            <p>Orthogonal spaceship, travels horizontally every 5 generations.</p>
          </div>

        <!-- Oscillators Category -->
        <div class="pattern-category-header oscillators-header">
          <h3>ðŸ”„ Oscillators</h3>
          <p>Patterns that repeat their states in cycles</p>
        </div>

          <div class="ship-display clickable" data-ship="pulsar">
            <h4>Pulsar</h4>
            <div class="ship-pattern pulsar-pattern"></div>
            <p>Period 3 oscillator, very stable.</p>
          </div>

          <div class="ship-display clickable" data-ship="beacon">
            <h4>Beacon</h4>
            <div class="ship-pattern beacon-pattern"></div>
            <p>Period 2 oscillator.</p>
          </div>

          <div class="ship-display clickable" data-ship="blinker">
            <h4>Blinker</h4>
            <div class="ship-pattern blinker-pattern"></div>
            <p>Period 2 oscillator - simplest oscillator.</p>
          </div>

          <div class="ship-display clickable" data-ship="toad">
            <h4>Toad</h4>
            <div class="ship-pattern toad-pattern"></div>
            <p>Period 2 oscillator that switches between horizontal and vertical.</p>
          </div>

          <div class="ship-display clickable" data-ship="Galaxy">
            <h4>Galaxy</h4>
            <div class="ship-pattern galaxy-pattern"></div>
            <p>Period 8 oscillator with rotating symmetric pattern.</p>
          </div>

        <!-- Still Lifes Category -->
        <div class="pattern-category-header stilllifes-header">
          <h3>ðŸ”¸ Still Lifes</h3>
          <p>Stable patterns that never change</p>
        </div>

          <div class="ship-display clickable" data-ship="block">
            <h4>Block</h4>
            <div class="ship-pattern block-pattern"></div>
            <p>Simplest still life pattern.</p>
          </div>

          <div class="ship-display clickable" data-ship="beehive">
            <h4>Beehive</h4>
            <div class="ship-pattern beehive-pattern"></div>
            <p>Common still life pattern.</p>
          </div>

          <div class="ship-display clickable" data-ship="loaf">
            <h4>Loaf</h4>
            <div class="ship-pattern loaf-pattern"></div>
            <p>Still life with an asymmetric shape.</p>
          </div>

          <div class="ship-display clickable" data-ship="boat">
            <h4>Boat</h4>
            <div class="ship-pattern boat-pattern"></div>
            <p>Small still life pattern.</p>
          </div>

        <!-- Generators Category -->
        <div class="pattern-category-header generators-header">
          <h3>âš¡ Generators</h3>
          <p>Patterns that create other patterns</p>
        </div>

          <div class="ship-display clickable" data-ship="glidergun">
            <h4>Glider Gun</h4>
            <div class="ship-pattern glidergun-pattern"></div>
            <p>Produces gliders infinitely (large pattern).</p>
          </div>

        <!-- Methuselahs Category -->
        <div class="pattern-category-header methuselahs-header">
          <h3>ðŸ§¬ Methuselahs</h3>
          <p>Long-lived patterns with interesting evolution</p>
        </div>

          <div class="ship-display clickable" data-ship="acorn">
            <h4>Acorn</h4>
            <div class="ship-pattern acorn-pattern"></div>
            <p>Takes 5206 generations to stabilize!</p>
          </div>

          <div class="ship-display clickable" data-ship="diehard">
            <h4>Diehard</h4>
            <div class="ship-pattern diehard-pattern"></div>
            <p>Dies completely after 130 generations.</p>
          </div>
      </div>
    </div>

    <!-- Modal dialogs -->
    <dialog id="welcome_modal" class="modal">
      <div class="modal-box">
        <form method="dialog">
          <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"
            >âœ•</button
          >
        </form>
        <h3 class="text-lg font-bold">Welcome to Conway's Game of Life!</h3>
        <p class="py-4"
          >Watch the initial pattern evolve for 166 ticks to learn how the game
          works. The simulation will start automatically.</p
        >
      </div>
    </dialog>

    <dialog id="tutorial_complete_modal" class="modal">
      <div class="modal-box">
        <form method="dialog">
          <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"
            >âœ•</button
          >
        </form>
        <h3 class="text-lg font-bold">Tutorial Complete!</h3>
        <p class="py-4"
          >You can now interact with all controls. Welcome to Conway's Game of
          Life!</p
        >
      </div>
    </dialog>

    <dialog id="pattern_stable_modal" class="modal">
      <div class="modal-box">
        <form method="dialog">
          <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"
            >âœ•</button
          >
        </form>
        <h3 class="text-lg font-bold">Pattern Stabilized</h3>
        <p class="py-4">Pattern has stabilized or is oscillating.</p>
      </div>
    </dialog>

    <dialog id="rules_updated_modal" class="modal">
      <div class="modal-box">
        <form method="dialog">
          <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"
            >âœ•</button
          >
        </form>
        <h3 class="text-lg font-bold">Rules Updated</h3>
        <p class="py-4">Rules updated successfully!</p>
      </div>
    </dialog>

    <dialog id="invalid_rules_modal" class="modal">
      <div class="modal-box">
        <form method="dialog">
          <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"
            >âœ•</button
          >
        </form>
        <h3 class="text-lg font-bold">Invalid Rules</h3>
        <p class="py-4"
          >Invalid rule format. Please use comma-separated numbers (0-8).</p
        >
      </div>
    </dialog>

    <dialog id="grid_too_small_modal" class="modal">
      <div class="modal-box">
        <form method="dialog">
          <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"
            >âœ•</button
          >
        </form>
        <h3 class="text-lg font-bold">Grid Too Small</h3>
        <p class="py-4">Grid too small for spaceship patterns!</p>
      </div>
    </dialog>

    <dialog id="ship_added_modal" class="modal">
      <div class="modal-box">
        <form method="dialog">
          <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"
            >âœ•</button
          >
        </form>
        <h3 class="text-lg font-bold">Spaceship Added</h3>
        <p class="py-4" id="ship-added-message">Added spaceship!</p>
      </div>
    </dialog>

    <script src="auth.js"></script>
    <script src="game.js"></script>
  </body>
</html>
